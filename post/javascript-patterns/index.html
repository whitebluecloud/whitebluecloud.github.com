<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Javascript Patterns |  hun</title>
    <meta name="description" content="hun">
    <meta name="author" content="hun">
    <meta name="keywords" content="nodejs" />
    <meta name="generator" content="haroopress v0.9.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/rss.xml" rel="alternate" title="hun" type="application/rss+xml">

    <!-- Le styles -->
    <link rel="canonical" href="http://whitebluecloud.github.com">

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/css/font-awesome.css" rel="stylesheet">
    <link href="/css/markdown.css" rel="stylesheet">
    <link href="/css/haroopress.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
    <link href="/css/code/default.css" rel="stylesheet">
    
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon-64.png">

    <!-- Le javascript -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.jsonp.js"></script>
    <script src="/js/mustache.js"></script>
    <script src="/js/apps/github.js"></script>
    <script src="/js/apps/twitter.js"></script>
</head>
<body data-spy="scroll" data-target=".subnav" data-offset="50">

        <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>

          <a class="pull-right" href="/rss.xml"><img src="/img/buttons/rss.png" /></a>
          

          <div class="nav-collapse">
            <ul class="nav">
              <li>
                <a href="/">Home</a>
              </li>
              <li>
                <a href="/archives">Archives</a>
              </li>
              <li>
                <a href="/slides">Slides</a>
              </li>
                
            </ul>
          </div>
        </div>
      </div>
    </div>

    
<link href="/css/code/default.css" rel="stylesheet">
<div class="container page-archive">
    <div class="row">
        <div class="span3">
            <div id="author" class="well">
                <div>
                    <h3>About Author</h3>
                    <ul class="thumbnails">
                        <li>
                            <a class="thumbnail">
                                <img src="http://www.gravatar.com/avatar/969a14eb11d6ca9e6a742dc036529bd9?r=pg&amp;s=128.jpg&amp;d=identicon" />
                            </a>
                        </li>
                    </ul>
                    <p>
                        <strong>hun</strong><br/>
                        blog: <a href="undefined" target="_blank"></a><br/>
                        twitter: <a href="http://twitter.com/undefined" target="_blank">@</a><br/>
                        github: <a href="https://github.com/undefined" target="_blank">http://whitebluecloud.github.com</a>
                    </p>
                    <p>
                        <a href="https://twitter.com/" class="twitter-follow-button" data-show-count="true">Follow @</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </p>
                    <p>
                        
                    </p>
                </div>
                <div>
                    <h3>About this Article</h3>
                    <p>
                        <h5>Date Released:</h5>
                        <span>Tuesday, January 22 2013 1:12 AM</span>
                    </p>
                </div>
            </div>
                        <div class="well">
                <ul class="nav nav-list">
                    <li class="nav-header">Categories</li>
                    <li class=""><a href="/category"><i class="icon-home"></i> Home</a></li>
                    
                    <li><a href="/category/javscript"><i class="icon-book"></i> javscript</a></li>
                    
                    <li><a href="/category/aws"><i class="icon-book"></i> aws</a></li>
                    
                    <li><a href="/category/nodejs"><i class="icon-book"></i> nodejs</a></li>
                    
                </ul>
            </div>

            
<div class="well">
    <ul class="nav nav-list">
        <li class="nav-header">Recent Articles</li>
    
        <li>
            <a href="/post/javascript-patterns" target="_blank">Javascript Patterns
            <span class="label">hun</span></a>
        </li>
    
        <li>
            <a href="/post/start-node-dot-j-s" target="_blank">Start Node.JS
            <span class="label">hun</span></a>
        </li>
    
        <li>
            <a href="/post/Amazon-Web-Service" target="_blank">Amazon Web Service
            <span class="label">hun</span></a>
        </li>
    
    </ul>
</div>

        </div>
        <div class="span9">
            <div class="row">
                <div class="span9">
                    <div class="well bg">
                        
                        <div class="page-header">
                            <h1>Javascript Patterns</h1>
                        </div>

                        
                                            

                                            

                        <div class="markdown-wrapper">
                            <p>자바스크립트 코딩기법과 핵심패턴에 대해 프린트하여 보기 좋게 정리하기 위해 포스팅</p>
<h1 id="toc_0">기초</h1>

<h2 id="toc_1">유지보수 가능한 코드 작성</h2>
<p>유지보수가 가능한 코드란 다음과 같은 특징을 가짐
읽기 쉽다.
일관적이다.
예측 가능하다.
한 사람이 작성한 것처럼 보인다.
문서화되어 있다.</p>
<h2 id="toc_2">전역변수를 최소화 하라!</h2>
<p>전역변수는 자바스크립트 애플리케이션이나 웹페이지 모든 코드 사이에서 공유된다는 문제점이 있다.
그러므로 전역변수는 최소한으로 사용한다.</p><pre><code class="javscript">myglobal = <span class="string">"hello"</span>; <span class="comment">//안티패턴</span>
console<span class="variable">.log</span>(myglobal); <span class="comment">//hello</span>
console<span class="variable">.log</span>(<span class="keyword">this</span><span class="variable">.myglobal</span>); <span class="comment">//hello</span>
console<span class="variable">.log</span>(window<span class="variable">.myglobal</span>); <span class="comment">//hello</span>
console<span class="variable">.log</span>(window[<span class="string">"myglobal"</span>]); <span class="comment">//hello</span>
</code></pre>
<h2 id="toc_3">암묵적 전역(implied globals)</h2>
<p>암묵적 전역은 절대적으로 피하는 것이 좋다. 아래 예도 그렇지만 다른 이유로 이식성(portability) 때문. 암묵적 전역 변수가 새로운 실행환경에서 호스트 객체를 의도치 않게 덮어쓸 수 있기 때문. </p><pre><code class="javscript"><span class="function"><span class="keyword">function</span> <span class="title">sum</span><span class="params">(x, y)</span> {</span>
    result = x + y; <span class="comment">//안티패턴 - 전역 네임스페이스에 result 변수가 남게된다.</span>
    <span class="keyword">return</span> result;
}

<span class="function"><span class="keyword">function</span> <span class="title">sum</span><span class="params">(x, y)</span> {</span>
    <span class="keyword">var</span> result = x + y; <span class="comment">//추천패턴 - 언제나 var을 사용해 변수를 선언해야 한다. 이때 result는 지역변수가 된다.</span>
    <span class="keyword">return</span> result;
}

<span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> {</span>
    <span class="keyword">var</span> a = b = <span class="number">0</span>; <span class="comment">//안티패턴 - 이것은 var a = (b = 0); 과 같다. 즉 b가 암묵적 전역이 된다.</span>
}

<span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> {</span>
    <span class="keyword">var</span> a, b;
    a = b = <span class="number">0</span>; <span class="comment">//추천패턴 - 이 경우 모두 지역변수가 된다.</span>
}
</code></pre>
<h2 id="toc_4">단일 var 패턴을 사용하라</h2>
<p>아래처럼 사용하는 패턴이 좋다. 장점은 변수 찾기 용이(명시적)이며, 로직상 오류를 방지(예를 들어 호이스팅)한다. 또한 의도적이지 않은 전역 변수 사용을 최소화할 수 있다. 뿐만아니라 코드링이 줄어든다. </p><pre><code class="javscript"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">()</span> <span class="comment">{
    var a = 1,
    b = 2,
    sum = a + b,
    myobject = {}</span>,
    <span class="title">el</span> = <span class="title">document</span>.<span class="title">getElementById</span><span class="params">("result")</span>,
    <span class="title">style</span> = <span class="title">el</span>.<span class="title">style</span>
    <span class="title">i</span>,
    <span class="title">j</span>;</span>
}
</code></pre>
<h2 id="toc_5">호이스팅(hoisting)</h2>
<p>호이스팅(끌어올리기)은 함수내에 어디서든 var 선언을 사용하더라도 함수 상단에 선언한 것과 동일한 동작을 하는 방식을 말함. 중요한 것은 선언만 호이스팅되는 것이지... 정의는 호이스팅 되지 않는다. </p>
<h2 id="toc_6">for 루프</h2>
<p>다음처럼은 절대 쓰지 않는다. </p><pre><code class="javscript"><span class="keyword">for</span>(var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; <span class="transposed_variable">myArray.</span><span class="built_in">length</span>; <span class="built_in">i</span>++) <span class="cell">{
    //myarray[i]를 다루는 코드
}</span>
</code></pre><p>다음 처럼 쓴다.</p><pre><code class="javscript"><span class="keyword">for</span>(var <span class="built_in">i</span> = <span class="number">0</span>, max = <span class="transposed_variable">myarray.</span><span class="built_in">length</span>; <span class="built_in">i</span> &lt; max; <span class="built_in">i</span>++) <span class="cell">{
    //myarray[i]를 다루는 코드
}</span>
</code></pre><p>for내에 var 선언은 단일 var 패턴을 해도 된다. 
i++대신 i = 1을 사용하는 것이 좋다. +, --는 과도한 기교를 조장한다는 이유이다.</p><p>미세 최적화를 위해 두가지 패턴을 활용한다.
변수를 하나 덜 쓴다.
카운트를 거꾸로 0으로 내려간다. 0과 비교하는 것이 0이 아닌 값으로 비교하는 것보다 빠르기 때문.</p>
<h2 id="toc_7">for-in 루프</h2>
<p>for-in으로 루프를 도는 것을 열거(enumeration)라고 한다. 이 루프는 반드시 배열이 아닌 객체를 순회할 때만 사용한다. </p><p>프로토타입 프로퍼티만을 걸러내기 위해 hasOwnProperty() 메서드를 사용한다. </p><pre><code class="javscript"><span class="function"><span class="title">for</span><span class="params">(var i in man)</span> {
    <span class="title">if</span><span class="params">(man.<span class="function_name">hasOwnProperty</span>(i))</span> {
        <span class="title">console</span>.<span class="title">log</span><span class="params">(i, <span class="string">":"</span>, man[i])</span>;
    }
}
</code></pre><p>다음처럼 해도 된다. 이 방법은 man객체가 hasOwnProperty를 재정의하여 덮어써도 활용할 수 있다. </p><pre><code class="javscript">var i,
    has<span class="variable">Own</span> = <span class="variable">Object</span>.prototype.has<span class="variable">OwnProperty</span>;
<span class="function"><span class="title">for</span><span class="params">(i in man)</span> {
    <span class="title">if</span><span class="params">(has<span class="variable">Own</span>.<span class="function_name">call</span>(m, i))</span> {
        <span class="title">console</span>.<span class="title">log</span><span class="params">(i, <span class="string">":"</span>, man[i])</span>;
    }
}
</code></pre><p>내장 생성자 프로토타입은 되도록 확장하지 말자.
생성자 함수의 prototype 프로퍼티를 확장하는 것은 기능을 추가하는 좋은 방법이나 너무 강력함. 
그러므로 Object(), Array(), Function()과 같은 내장 생성자의 프로토타입을 확장하는 것은 매력적이나 코드의 지속성을 심각하게 저해할 수 있다.
하지만 무조건 나쁘지만은 않으므로 꼭 필요한 경우 정의한다.</p><pre><code class="javscript"><span class="keyword">if</span> (typeof Object.prototype.myMethod !== <span class="string">"function"</span>) {
    Object.prototype.myMethod = <span class="keyword">function</span> () {  
        // 구현<span class="keyword">...</span>
    };
}
</code></pre>
<h2 id="toc_8">switch 패턴</h2>
<p>case문을 switch문에 맞추어 정렬
case문 안에서 코드를 들여쓰기 한다.
case문은 명확히 break;로 종료
break문을 생략하여 통과시키지 않는다. 필요한 경우 기록을 남긴다.
반드시 default:을 쓴다.</p><pre><code class="javscript">switch( inspect_me) {
    case <span class="number">0</span>:
        result = <span class="string">"zero"</span><span class="comment">;</span>
        <span class="keyword">break</span><span class="comment">;</span>
    case <span class="number">1</span>:
        result = <span class="string">"one"</span><span class="comment">;</span>
        <span class="keyword">break</span><span class="comment">;</span>
    default:
        result = <span class="string">"unknown"</span><span class="comment">;</span>
}
</code></pre>
<h2 id="toc_9">암묵적 캐스팅 피하기</h2>
<p>false 0, &quot;&quot; 0 이 모두 true가 되기 때문에
암묵적 캐스팅으로 인한 혼동을 막기 위해 완전항등연산자인 ===, !== 연산자 만을 사용한다. </p>
<h2 id="toc_10">evel()은 보안문제로 무조건 피하라!</h2>
<p>setInterval(), setTimeout(), Function() 생성자에 문자열을 넘기는 것도 eval()처럼 문제가 발생할 수 있으므로 피한다.</p><pre><code class="javscript"><span class="keyword">var</span> property = <span class="string">"name"</span>;
alert(<span class="keyword">eval</span>(<span class="string">"obj."</span> + property)); <span class="comment">//안티패턴</span>
setTimeout(<span class="string">"myFunc()"</span>, <span class="number">1000</span>); <span class="comment">//안티패턴</span>
setTimeout(<span class="string">"myFunc(1, 2, 3)"</span>, <span class="number">1000</span>); <span class="comment">//안티패턴</span>
</code></pre><p>만약 eval()을 사용해야하는 경우가 발생한다면 new Function(); 을 고려하자. eval()은 유효범위 체인에 간섭을 일으킬 수 있는 단점이 있는 반해, Function은 좀더 봉인 되어 있다. new Function()과 Function()은 동일하다. </p>
<h2 id="toc_11">parseInt()를 통한 숫자 변환</h2>
<p>문자를 숫자로 바꾸는 방법은 parseInt(&quot;05&quot;, 10)와 Number(&quot;05&quot;) 방법이 있다. 단, parseInt의 경우 &quot;05&quot;처럼 앞에 0이 있는 경우에는 반드시 두번째 인자가 10(10진수의 의미)이 되어야 한다. 하지만 Number는 상관없다. Number의 경우 &quot;05 hello&quot;등은 바꿀 수 없고 NaN처리 되지만 parseInt()는 5가 잘 나온다. </p>
<h2 id="toc_12">코딩규칙</h2>
<p>적절한 들여쓰기 사용
중괄호는 생략할 수 있어도 꼭 쓸 것
중괄호 여는 위치는 &quot;세미콜론 삽입 장치&quot; 문제로 반드시 아래처럼 쓰는게 좋다.</p><pre><code class="javscript"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> <span class="cell">{
        name: "Batman"
    }</span>;
}
</code></pre><p>공백은 코드가 숨쉴 수 있게하는 요소. 하지만 코드 컨벤션에 따라서 쓰면 되겠다.</p>
<h2 id="toc_13">명명규칙</h2>
<p>생성자는 대문자로 시작
단어 구분에는 낙타표기법(camel case) 사용 - 단 생성자는 대문자 낙타표기법은 함수는 소문자 낙타표기법을 사용한다.
상수는 대문자와 <em>를 적절히 사용한다.
private나 protected는 _</em>myPrivateMethod, _myProtectedMethod 처럼 구분하도록 하자.</p>
<h2 id="toc_14">주석 작성</h2>
<p>YUIDoc(<a href="http://yuilibrary.com/projects/yuidoc">http://yuilibrary.com/projects/yuidoc</a>), JSDoc(<a href="http://code.google.com/p/jsdoc-toolkit">http://code.google.com/p/jsdoc-toolkit</a>) 활용 </p>
<h2 id="toc_15">출시단계 압축</h2>
<p>야후의 YUICompressor 나 구글의 Closure Compiler 활용. </p>
<h2 id="toc_16">JSLint 실행</h2>
<p>지금까지 다룬 패턴 위반사례를 잡아줌. </p>
<h1 id="toc_17">리터럴과 생성자</h1>
<p>이 장에서 중요한 것은 생성자 사용을 자제하고 리터럴 표기법을 사용하라는 것임!</p><p>리터럴 표기법이 생성자 함수 사용보다 더 간결하고 짧다.
리터럴 표기법을 사용하면 유효범위 판별 작업이 발생하지 않는다.
리터럴 표기법을 사용하는 것이 더 안정적이다. new Object()에 인자가 동적으로 전달되는 경우 예기치 않는 결과가 나올 수 있다. var o = new Object(1);에서 o.constructor === Number는 true가 된다.
생성자는 함수내에 반환문이 없더라도 암묵적으로 this를 반환한다. 이 말은 this대신 다른 것도 반환할 수 있다는 것을 의미한다.
생성자 패턴을 사용하면 논리적 오류가 발생할 수 있다. 자바스크립트에서 생성자는 함수일 뿐이므로 new를 빼먹으면 생성자 내부에 this는 전역 객체를 가리키게 되어 의도치 않는 결과를 초래할 수 있다. 이를 우회하기 위해 다음과 같은 패턴을 사용한다.</p><pre><code class="javascript"><span class="function"><span class="title">if</span><span class="params">(typeof <span class="variable">Array</span>.is<span class="variable">Array</span> === <span class="string">"undefined"</span>)</span> {
    A<span class="title">rray</span>.<span class="title">isArray</span> = <span class="title">function</span><span class="params">(arg)</span> {
    <span class="title">return</span> O<span class="title">bject</span>.<span class="title">prototype</span>.<span class="title">toString</span>.<span class="title">call</span>.<span class="params">(arg)</span> === "[<span class="title">object</span> A<span class="title">rray</span>]";
    };
}
</code></pre><p>JSON은 자바스크립트 객체 표기법으로 데이터 전송 형식의 일종으로 배열과 객체 리터럴 표기법의 조합이다.
JSON을 다루기 위해 eval()을 사용하는 것은 금지한다.
JSON은 가능하면 JSON.parse()와 JSON.stringify()를 사용한다. 이것은 ES 5 부터 추가되었다. 구형 브라우져인 경우 YUI나 jQuery용을 사용하자.
정규 표현식도 리터럴 타입이 안전하다. 생성자 타입(new RegExp())을 사용하는 것은 매칭시킬 패턴을 미리 알 수 없어 런타임에 문자열을 만들어야하는 경우이다.
원시 데이터 타입 레퍼 생성자는 사용하지 말자. 즉 new String(&quot;my string&quot;); 이런거 말이다.
원시 데이터에서 &quot;Hello there&quot;.split(&#39; &#39;)[0]; 이 동작할 수 있는 것은 일시적으로 객체로 변환하기 때문이다.
에러 객체. 자바스크립트 에러 객체는 Error(), SyntaxError(), TypeError() 3개이다. 이것은 throw문과 사용된다. 중요한 프로퍼티는 name, message이다. 하지만 throw문은 이 에러 객체를 사용하지 않아도 잘 동작한다. throw {name:.., message:..., extra:...}; 형태처럼 사용해도 무방하다.
다음은 권장되는 리터럴과 원시 데이터 타입이다.</p><pre><code class="javascript"><span class="keyword">var</span> o = {};
<span class="keyword">var</span> a = [];
<span class="keyword">var</span> re = <span class="regexp">/[a-z]/g</span>;
<span class="keyword">var</span> s = <span class="string">""</span>;
<span class="keyword">var</span> n = <span class="number">0</span>;
<span class="keyword">var</span> b = <span class="literal">false</span>;
<span class="keyword">throw</span> {
    name : <span class="string">"Error"</span>,
    message : <span class="string">"uh-oh"</span>
};

또는
<span class="keyword">throw</span> Error(<span class="string">"uh-oh"</span>);
</code></pre>
<h1 id="toc_18">함수</h1>

<h2 id="toc_19">자바스크립트에서 함수의 중요한 특징</h2>
<p>함수는 일급객체 : 값이 전달될 수 있고 프로퍼티와 메서드를 확장할 수 있다.
함수는 지역 유효범위 제공 : 함수외에 다른 중괄호({}) 묶음은 지역 유효범위를 제공하지 않는다. 로컬 변수의 선언은 로컬 유효범위의 맨 윗부분으로 호이스팅이 된다.</p>
<h2 id="toc_20">함수를 생성하는 문법</h2>
<p>기명 함수 표현식(named function expression)</p><pre><code class="javascript"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(a, b)</span> {</span>
    <span class="keyword">return</span> a + b;
};
</code></pre><p>무명 함수 표현식(unnamed function expression) = 함수 표현식 , 익명함수(anonymous function)</p><pre><code class="javascript"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> <span class="params">(a, b)</span> {</span>
    <span class="keyword">return</span> a + b;
};

함수 선언문(<span class="function"><span class="keyword">function</span> <span class="title">declaration</span>) 함수 선언문에는 세미콜론이 필요하지 않다.
~~~<span class="title">javascript</span>
<span class="title">function</span> <span class="title">foo</span><span class="params">()</span> {</span>
    <span class="comment">// 함수 본문</span>
}
</code></pre>
<h2 id="toc_21">함수 호이스팅</h2>
<p>함수 선언문은 함수 내에서 호이스팅되지만 함수표현식에서 선언만 호이스팅된다. 즉, 정의는 호이스팅되지 않는다! </p>
<h2 id="toc_22">함수패턴 : API 패턴</h2>
<p>함수에 더 좋고 깔끔한 인터페이스를 제공할 수 있도록 도와줌
콜백 패턴 : 함수를 인자로 전달</p>
<ul>
<li>콜백을 사용할 때는 항상 유효범위를 고려해야한다.</li>
<li>콜백은 라이브러리에 들어가는 코드와 같이 범용적이고 재사용할 수 있도록 일반화 시키는데 도움을 준다.</li>
<li>이벤트와 같이 비동기적 동작을 위해 콜백은 유용하게 사용된다.
설정 객체 : 함수에 많은 수의 매개변수를 전달할 때 통제를 벗어나지 않도록 해줌</li>
<li>좀 더 깨끗한 API를 제공하는 방법으로 라이브러리나 다른 프로그램에서 사용할 코드를 만들 때 유용하다.</li>
<li>장점 : 매개변수와 순서를 기억할 필요 없다. 선택적인 매개변수를 안전하게 생략가능. 읽기 쉽고 유지보수 편함. 매개변수를 추가하거나 제거하기 편함 </li>
<li>단점 : 매개변수 이름을 기억해야함. 프로퍼티 이름들이 압축되지 않음.
함수 반환 : 함수의 반환값이 또 다시 함수가 될 수 있다.</li>
<li>클로저가 생성되기 때문에 비공개 데이터 저장을 위해 사용할 수 있다. 가령, 매번 호출할 때마다 값을 증가시키는 카운터 기능을 만들 수 있다.
커링 : 원본 함수와 매개변수 일부를 물려받는 새로운 함수를 생성한다. </li>
<li>함수 적용 : 함수의 호출은 실제로 인자의 묶음을 함수에 적용하는 것이다. Function.prototype.apply(), Function.prototype.call() 을 기억하자. </li>
<li>부분 적용 : 자바스크립트의 동적인 특성을 사용해 add(5,4)를 add(5)(4) 처럼 동작하도록 한 것을 부분 적용이라고 한다.</li>
<li>커링(Curring) : 부분 적용을 이해하고 처리할 수 있도록 만들어나가는 과정을 말한다. </li>
</ul>
<pre><code class="javascript"><span class="comment">//커링된 add() 예</span>
<span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(x, y)</span> {</span>
    <span class="keyword">if</span> (<span class="keyword">typeof</span> y === <span class="string">"undefined"</span>) {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(y)</span> {</span>
        <span class="keyword">return</span> x + y;
        };
    }
    <span class="keyword">return</span> x + y;
}
<span class="keyword">typeof</span> add(<span class="number">5</span>); <span class="comment">//function</span>
add(<span class="number">3</span>)(<span class="number">4</span>); <span class="comment">//7</span>
<span class="keyword">var</span> add2000 = add(<span class="number">2000</span>);
add2000(<span class="number">10</span>); <span class="comment">//2010</span>
</code></pre><pre><code class="javascript"><span class="comment">//커링의 범용성 적용</span>
<span class="function"><span class="keyword">function</span> <span class="title">schonfinkelize</span><span class="params">(fn)</span> {</span>
    <span class="keyword">var</span> slice = Array.prototype.slice,
    stored_args = slice.call(arguments, <span class="number">1</span>);
    <span class="keyword">return</span> <span class="keyword">function</span>() {
        <span class="keyword">var</span> new_args = slice.call(arguments),
            args = stored_args.concat(new_args);
        <span class="keyword">return</span> fn.apply(<span class="literal">null</span>, args);  
    };
}
<span class="comment">//일반함수</span>
<span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(x, y)</span> {</span>
    <span class="keyword">return</span> x + y;
}
<span class="keyword">var</span> newadd = schonfinkelize(add, <span class="number">5</span>);
newadd(<span class="number">4</span>); <span class="comment">//9</span>

schonfinkelize(add, <span class="number">6</span>)(<span class="number">7</span>); <span class="comment">//13</span>

<span class="comment">//다른 일반함수</span>
<span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(a, b, c, d, e)</span> {</span>
    <span class="keyword">return</span> a + b + c + d + e;
}
schonfinkelize(add, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)(<span class="number">5</span>, <span class="number">5</span>); <span class="comment">//16</span>

<span class="comment">//2단계 커링</span>
<span class="keyword">var</span> addOne = schonfinkelize(add, <span class="number">1</span>);
addOne(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>); <span class="comment">//41</span>
<span class="keyword">var</span> addSix = schonfinkelize(addOne, <span class="number">2</span>, <span class="number">3</span>);
addSix(<span class="number">5</span>, <span class="number">5</span>); <span class="comment">//16</span>
</code></pre>
<h2 id="toc_23">함수패턴 : 초기화 패턴</h2>
<p>웹페이지와 애플리케이션에서 매우 흔히 사용되는 초기화와 설정작업을 전역 네임스페이스를 어지럽히지 않고 임시 변수를 사용해 좀더 깨끗하고 구조화된 방법으로 수행할 수 있도록 도와줌
즉시 실행 함수 : 정의되자마자 실행된다.</p>
<ul>
<li>장점 : 초기화 코드에 유효범위 샌드박스(sandbox)를 제공한다. 즉, 전역 네임스페이스를 깨끗하게 유지한다.</li>
<li>인자를 전달할 수 있다. 즉시 실행 함수내에서 window를 사용하지 않고도 전역객체에 접근할 때 유용하다.</li>
<li>즉시 실행함수에서 미리 계산하여 클로저에 저장해둔 값을 반환할 수 있다.</li>
<li>객체 프로퍼티를 정의할 때도 사용할 수 있다.
즉시 객체 초기화 : 익명 객체 내부에서 초기화 작업을 구조화한 다음 즉시 호출할 수 있는 메서드를 제공한다.</li>
<li>즉시 객체 초기화 패턴을 활용하면 즉시 실행 함수와 초기화 작업을 할 수 있다는 장점이 있다. 구조적으로 초기화를 구분할 경우 장점이 있다. </li>
<li>하지만 압축도구는 구글의 클러저 컴파일러의 고급 모드에서만 압축이 가능하다.
초기화 시점의 분기 : 최초 코드 실행 시점에 코드를 분기하여, 애플리케이션 생명 주기 동안 계속해서 분기가 발생하지 않도록 막아준다. </li>
<li>어떤 조건이 프로그램의 생명주기 동안 변경이 되지 않는게 확실한 경우, 조건을 단 한 번만 확인하는 것이 바람직하다. </li>
</ul>

<h2 id="toc_24">함수패턴 : 성능 패턴</h2>
<p>코드의 실행속도를 높이는데 도움을 준다.
메모이제이션 패턴 : 함수 프로퍼티를 사용해 계산된 값을 다시 계산되지 않도록 한다. </p>
<ul>
<li>객체의 인자를 캐시하여 키값으로 삼아 같은 인자가 들어올 때 다시 계산하지 않도록 해서 성능을 높혀준다.
자기선언 함수 : 자기 자신을 덮어씀으로써 두 번째 호출 이후부터는 작업량을 줄게 해줌 </li>
<li>함수가 어떤 초기화 준비 작업을 단 한 번만 수행할 경우 유용하다.</li>
<li>단점1은 자기 자신을 재정의한 후에는 이전에 원본 함수에 추가했던 프로퍼티들을 모두 찾을 수 없게된다. </li>
<li>단점2는 함수가 다른 이름으로 사용된다면, 재정의된 부분이 아니라 원본 함수의 본문이 실행되어 의도치 않은 동작을 만들 수 있다.</li>
</ul>

                        </div>
                        <hr />
                                            
                        <div class="row-fluid">
                            
                            <div class="pull-right">
                                <a href="/post/Amazon-Web-Service" class="btn btn-info">Amazon Web Service <i class="icon-white icon-chevron-right"></i></a>
                            </div>
                            

                            
                        </div>
                    

                        <div class="row-fluid">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = ''; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

                    </div>
                </div>
            </div>
            <div class="row">
            </div>
        </div>
    </div>
    <!--<div class="row">-->
        <!--<div class="offset3 span9">-->
            <!--<strong>tags</strong> :-->
            <!---->
            <!--<a href="/tag/Javscript">Javscript</a>&nbsp;-->
            <!---->
            <!--<a href="/tag/patterns">patterns</a>&nbsp;-->
            <!---->
        <!--</div>-->
    <!--</div>-->
</div><!-- /container -->


        <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="span12 ">
                    <div class="well">
                        <p class="pull-right"><a href="#">Back to top</a></p>
                            <strong>haroopress</strong> developed by <a href="http://twitter.com/rhiokim" target="_blank">@rhiokim</a>,<a href="http://twitter.com/haroopress" target="_blank">@haroopress</a> and source in <a href="https://github.com/rhiokim/haroopress" target="_blank">github</a><br/>
                            Designed and built with all the love in the world <a href="http://twitter.com/twitter" target="_blank">@twitter</a> by <a href="http://twitter.com/mdo" target="_blank">@mdo</a> and <a href="http://twitter.com/fat" target="_blank">@fat</a>.<br />
                            Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
                    </div>
                </div>
            </div>
        </div>
    </footer>

    


</body>
</html>
